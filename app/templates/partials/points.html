<div ng-show="data.points">
  <div ui-view="subcontent"></div>

  <div ng-hide="viewport.history.currentState == 'points.add'">
    <h3 class="clearfix">Locations <button type="button" class="btn btn-success pull-right" ng-click="state.redirect('points.add')" ng-hide="viewport.history.currentState == 'points.add'" ng-disabled="viewport.calling">Add new</button></h3>

    <p class="lead text-center">
      <span ng-hide="points.length">No locations added so far. Please add a location where you want to start your measurements. All locations are private and accessible only by the account that created them.</span>
      <span ng-show="points.length">Choose a location to start your measurements.</span>
    </p>

    <div class="list-group">
      <a href="#" class="list-group-item" ng-click="$event.preventDefault(); state.goToPoint(point.id)" ng-repeat="point in points = (data.points|active) track by $index">
        <span class="badge">{{ point.measurements.length }}</span>
        <h4 class="list-group-item-heading">{{ point.name }}</h4>
        <span class="text-warning" ng-show="point.id.indexOf('x') > -1">Location has not been synced yet</span>
        <span class="list-group-item-text help-block">Added <time datetime="{{ point.created }}" am-time-ago="point.created"></time></span>
      </a>
    </div>
  </div>
</div>
