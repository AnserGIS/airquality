<!DOCTYPE html>

<html ng-app="CMAQ" ng-controller="MainController">
  <head>
    <title ng-bind="viewport.title"></title>
    <meta charset="UTF-8" />
    <meta http-equiv="cleartype" content="on" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <link rel="stylesheet" href="stylesheets/vendor.css?v=@@version" />
    <link rel="stylesheet" href="stylesheets/app.css?v=@@version" />
  </head>

  <body>
    <div class="full-screen cloak" ng-show="!viewport.ready || viewport.calling">
      <div class="full-screen-container">
        <div class="full-screen-content">
          <img src="images/loader.gif" />
        </div>
      </div>
    </div>

    <div class="full-screen message" ng-show="viewport.ready && viewport.message">
      <div class="full-screen-container">
        <div class="full-screen-content">
          <div class="container">
            <div class="row">
              <div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2">
                <div class="well">
                  <p class="lead text-center">{{ viewport.message }}</p>
                  <p class="text-center"><button type="button" class="btn btn-default" ng-click="viewport.message = null">Close</button></p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div ng-show="viewport.ready">
      <nav class="navbar navbar-default">
        <div class="container">
          <div class="row">
            <div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2">
              <div class="navbar-header">
                <a class="navbar-brand" href="#" ng-click="$event.preventDefault(); state.redirect('index')">Air Quality</a>
              </div>

              <button type="button" class="btn btn-default navbar-btn navbar-right" ng-show="data.authentication" ng-click="state.redirect('logout')">Log out</button>
            </div>
          </div>
        </div>
      </nav>

      <div class="container">
        <div class="row">
          <div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2">
            <div role="alert" class="alert alert-warning" ng-show="viewport.offline">It seems like you're offline. Don't worry, you can still use cashed data to add points and measurements.</div>
            <div ui-view="content"></div>
          </div>
        </div>
      </div>
    </div>

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>

    <script src="scripts/vendor.js?v=@@version"></script>
    <script src="scripts/templates.js?v=@@version"></script>
    <script src="scripts/app.js?v=@@version"></script>
  </body>
</html>
