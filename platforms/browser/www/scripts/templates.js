angular.module('templates', ['partials/location.html', 'partials/locations-add.html', 'partials/locations.html', 'partials/login.html', 'partials/register.html']);

angular.module("partials/location.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("partials/location.html",
    "<div ng-show=\"data.location\"> <h3>{{ data.location.name }}</h3> <div id=\"map\" ng-show=\"viewport.online\"></div> <div class=\"row\"> <div class=\"col-sm-5\" ng-show=\"data.location.properties.height || data.location.properties.distance || data.location.properties.characteristics\"> <h4>Properties</h4> <div ng-show=\"data.location.properties.height\"> <label>Height from ground</label> <p>{{ data.location.properties.height }}m</p> </div> <div ng-show=\"data.location.properties.distance\"> <label>Distance from road</label> <p>{{ data.location.properties.distance }}m</p> </div> <div ng-show=\"data.location.properties.characteristics\"> <label>Site characteristics</label> <p ng-bind-html=\"data.location.properties.characteristics | newline\"></p> </div> </div> <hr class=\"visible-xs\"> <div class=\"col-sm-12\" ng-class=\"{'col-sm-7': data.location.properties.height || data.location.properties.distance || data.location.properties.characteristics}\"> <h4>Start new measurement</h4> <p>Enter barcode displayed on the diffusion tube.</p> <form role=\"form\" id=\"form-measurement-add\" ng-submit=\"start()\" novalidate=\"novalidate\"> <div ng-form=\"formGroup.form\"> <div ng-form=\"BarcodeField\" class=\"form-group\" ng-class=\"{'has-error': measurement.error.api || (BarcodeField.$dirty && BarcodeField.$invalid)}\"> <label for=\"form-measurement-barcode\">Barcode</label> <span class=\"help-block text-center\" ng-if=\"BarcodeField.$dirty && BarcodeField.$error.required\">Please enter the barcode of a diffusion tube in the field below</span> <span class=\"help-block text-center\" ng-if=\"BarcodeField.$error.number || BarcodeField.$error.min\">Barcode must be a valid number</span> <span class=\"help-block text-center\" ng-if=\"BarcodeField.$error.maxlength\">Barcode must consist of no more than 6 numbers</span> <div class=\"input-group\"> <input type=\"number\" min=\"0\" ng-maxlength=\"6\" id=\"form-measurement-barcode\" class=\"form-control\" ng-model=\"measurement.barcode\" ng-disabled=\"viewport.calling\" required> <span class=\"input-group-btn\"> <button type=\"submit\" class=\"btn btn-success\" ng-disabled=\"viewport.calling\">Start</button> </span> </div> </div> </div> </form> <h4>Measurements</h4> <p class=\"lead text-center\" ng-hide=\"measurements.length\">No measurements started so far.</p> <ul class=\"list-group\"> <li class=\"list-group-item clearfix\" ng-class=\"{'list-group-item-success': measurement.addResults}\" ng-repeat=\"measurement in measurements = (data.plocation.measurements|active)\"> <h5 class=\"list-group-item-heading\">Barcode: {{ measurement.barcode }}</h5> <h6 ng-show=\"measurement.submitted\"><strong>{{ measurement.results }} µg/m³</strong></h6> <span class=\"text-warning\" ng-show=\"measurement.id.indexOf('x') > -1 || measurement.updated\">Measurement has not been synced yet</span> <span class=\"list-group-item-text help-block\">Started <time datetime=\"{{ measurement.started }}\" am-time-ago=\"measurement.started\"></time></span> <span class=\"list-group-item-text help-block\" ng-show=\"measurement.finished\">Finished <time datetime=\"{{ measurement.finished }}\" am-time-ago=\"measurement.finished\"></time></span> <span class=\"list-group-item-text help-block\" ng-show=\"measurement.submitted\">Submitted <time datetime=\"{{ measurement.submitted }}\" am-time-ago=\"measurement.submitted\"></time></span> <span class=\"list-group-item-text help-block\" ng-hide=\"measurement.finished\"> <span ng-init=\"measurement.expires = (measurement.started | amAdd : '28' : 'days')\"></span> <span ng-show=\"(measurement.expires|amDifference : null : 'seconds') < 0\">Should have finished</span> <span ng-show=\"(measurement.expires|amDifference : null : 'seconds') >= 0\">Should finish</span> <time datetime=\"{{ measurement.expires }}\" am-time-ago=\"measurement.expires\"></time> </span> <div ng-form=\"formGroup.measurements[measurement.id].form\" ng-show=\"measurement.addResults\"> <hr> <div ng-form=\"ResultsField\" class=\"form-group\" ng-class=\"{'has-error': measurement.error.api || (ResultsField.$dirty && ResultsField.$invalid)}\"> <label for=\"measurement-project\">µg/m³</label> <span class=\"help-block text-center\" ng-if=\"ResultsField.$dirty && ResultsField.$error.required\">Please enter µg/m³ for this measurement in the field below</span> <span class=\"help-block text-center\" ng-if=\"ResultsField.$error.number\">µg/m³ must be a valid number</span> <span class=\"help-block text-center\" ng-if=\"ResultsField.$error.min\">µg/m³ can only be 0 or greater</span> <input type=\"number\" min=\"0\" id=\"measurement-results\" class=\"form-control\" ng-model=\"measurement.properties.results\" ng-disabled=\"viewport.calling\" required> </div> <div ng-form=\"ProjectField\" class=\"form-group\" ng-class=\"{'has-error': measurement.error.api || (ProjectField.$dirty && ProjectField.$invalid)}\"> <label for=\"measurement-project\">Project</label> <span class=\"help-block text-center\" ng-if=\"ProjectField.$dirty && ProjectField.$error.required\">Please choose a project from the options below</span> <select id=\"measurement-project\" class=\"form-control\" ng-model=\"measurement.project\" ng-options=\"project.id as project.name for project in data.projects\" ng-disabled=\"viewport.calling\" required> <option value=\"\"> </select> </div> </div> <hr ng-show=\"measurement.addResults || !measurement.submitted\"> <p class=\"text-right\"> <span ng-hide=\"measurement.addResults || measurement.submitted\"> <button type=\"button\" class=\"btn btn-danger\" ng-hide=\"measurement.addResults\" ng-click=\"remove(measurement)\" ng-disabled=\"viewport.calling\">Remove</button> <button type=\"button\" class=\"btn btn-primary\" ng-hide=\"measurement.finished\" ng-click=\"finish(measurement)\" ng-disabled=\"viewport.calling\">Finish now</button> <button type=\"button\" class=\"btn btn-success\" ng-show=\"measurement.finished\" ng-click=\"addResults(measurement)\" ng-disabled=\"viewport.calling\">Add results</button> </span> <span ng-show=\"measurement.addResults && !measurement.submitted\"> <button type=\"button\" class=\"btn btn-default\" ng-show=\"measurement.addResults\" ng-click=\"measurement.addResults = false\" ng-disabled=\"viewport.calling\">Cancel</button> <button type=\"button\" class=\"btn btn-primary\" ng-show=\"measurement.finished\" ng-click=\"submit(measurement)\" ng-disabled=\"viewport.calling\">Submit measurement</button> </span> </p> </li> </ul> </div> </div> <hr> <div class=\"row\"> <div class=\"col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2\"> <div class=\"panel panel-danger\"> <div class=\"panel-body\"> <p>Deleting a location removes all current measurements too. However, it does not remove measurements that have been finished and submitted to projects.</p> <p>This action cannot be undone.</p> <p class=\"text-right\"><button type=\"button\" class=\"btn btn-danger\" ng-click=\"delete()\" ng-disabled=\"viewport.calling\">Delete this location</button></p> </div> </div> </div> </div> </div>");
}]);

angular.module("partials/locations-add.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("partials/locations-add.html",
    "<h3>Add new location</h3> <div id=\"map\" ng-show=\"viewport.online\"></div> <p class=\"lead text-center\">You can adjust location by moving the map.</p> <form role=\"form\" id=\"form-location\" ng-submit=\"add()\" novalidate=\"novalidate\"> <div ng-form=\"formGroup.form\"> <div ng-form=\"NameField\" class=\"form-group\" ng-class=\"{'has-error': location.error.api || (NameField.$dirty && NameField.$invalid)}\"> <label for=\"form-location-name\">Name of the location</label> <span class=\"help-block text-center\" ng-if=\"NameField.$dirty && NameField.$error.required\">Please choose and enter name for this location in the field below</span> <input type=\"text\" id=\"form-location-name\" class=\"form-control\" ng-model=\"location.name\" ng-disabled=\"viewport.calling\" required> </div> <div ng-form=\"HeightField\" class=\"form-group\" ng-class=\"{'has-error': location.error.api || (HeightField.$dirty && HeightField.$invalid)}\"> <label for=\"form-location-height\">Height from ground (in meters)</label> <span class=\"help-block text-center\" ng-if=\"HeightField.$error.number\">Height must be a valid number</span> <span class=\"help-block text-center\" ng-if=\"HeightField.$error.min\">Height can only be 0 or greater</span> <input type=\"number\" min=\"0\" id=\"form-location-height\" class=\"form-control\" ng-model=\"location.height\" ng-disabled=\"viewport.calling\"> </div> <div ng-form=\"DistanceField\" class=\"form-group\" ng-class=\"{'has-error': location.error.api || (DistanceField.$dirty && DistanceField.$invalid)}\"> <label for=\"form-location-distance\">Distance from road (in meters)</label> <span class=\"help-block text-center\" ng-if=\"DistanceField.$error.number\">Distance must be a valid number</span> <span class=\"help-block text-center\" ng-if=\"DistanceField.$error.min\">Distance can only be 0 or greater</span> <input type=\"number\" min=\"0\" id=\"form-location-distance\" class=\"form-control\" ng-model=\"location.distance\" ng-disabled=\"viewport.calling\"> </div> <div class=\"form-group\" ng-class=\"{'has-error': location.error.api}\"> <label for=\"form-location-characteristics\">Site characteristics</label> <textarea id=\"form-location-characteristics\" class=\"form-control\" rows=\"4\" ng-model=\"location.characteristics\" ng-disabled=\"viewport.calling\"></textarea> </div> <p class=\"text-center\"> <button type=\"button\" class=\"btn btn-default\" ng-click=\"state.redirect('locations')\" ng-disabled=\"viewport.calling\">Cancel</button> <button type=\"submit\" class=\"btn btn-primary\" ng-disabled=\"viewport.calling\">Add location</button> </p> </div> </form>");
}]);

angular.module("partials/locations.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("partials/locations.html",
    "<div ng-show=\"data.locations\"> <div ui-view=\"subcontent\"></div> <div ng-hide=\"viewport.history.currentState == 'locations.add'\"> <h3 class=\"clearfix\">Locations <button type=\"button\" class=\"btn btn-success pull-right\" ng-click=\"state.redirect('locations.add')\" ng-hide=\"viewport.history.currentState == 'locations.add'\" ng-disabled=\"viewport.calling\">Add new</button></h3> <p class=\"lead text-center\"> <span ng-hide=\"locations.length\">No locations added so far. Please add a location where you want to start your measurements. All locations are private and accessible only by the account holder.</span> <span ng-show=\"locations.length\">Choose a location to manage your existing measurements or start new ones.</span> </p> <div class=\"list-group\"> <a href=\"#\" class=\"list-group-item\" ng-click=\"$event.preventDefault(); state.goToLocation(location.id)\" ng-repeat=\"location in locations = (data.locations|active) track by $index\"> <span class=\"badge\">{{ location.measurements.length }}</span> <h4 class=\"list-group-item-heading\">{{ location.name }}</h4> <span class=\"text-warning\" ng-show=\"location.id.indexOf('x') > -1\">Location has not been synced yet</span> <span class=\"list-group-item-text help-block\">Added <time datetime=\"{{ location.created }}\" am-time-ago=\"location.created\"></time></span> </a> </div> </div> </div>");
}]);

angular.module("partials/login.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("partials/login.html",
    "<div ng-show=\"viewport.online\"> <a href=\"http://mappingforchange.org.uk\" target=\"_blank\"><img ng-src=\"images/mfc.png\" class=\"img-responsive center-block\" alt=\"Mapping for Change\"></a> <p class=\"lead text-center\">Welcome to <strong>Air Quality</strong> - a tool built to help you collect pollution measurements.</p> <p class=\"lead text-center\">Use your existing <em>Community Maps</em> account to log in.</p> <div class=\"row\"> <form role=\"form\" id=\"form-authentication\" class=\"col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2\" ng-submit=\"authenticate()\" novalidate=\"novalidate\"> <div class=\"form-group\" ng-class=\"{'has-error': authentication.error.api || authentication.error.email}\"> <label for=\"form-authentication-email\">Email address</label> <span class=\"help-block text-center\" ng-if=\"authentication.error.email\">Please enter a valid email address in the field below</span> <input type=\"email\" id=\"form-authentication-email\" class=\"form-control\" ng-model=\"authentication.email\" ng-disabled=\"viewport.calling\"> </div> <div class=\"form-group\" ng-class=\"{'has-error': authentication.error.api || authentication.error.password}\"> <label for=\"form-authentication-password\">Password</label> <span class=\"help-block text-center\" ng-if=\"authentication.error.password\">Please enter your current password in the field below</span> <input type=\"password\" id=\"form-authentication-password\" class=\"form-control\" ng-model=\"authentication.password\" ng-disabled=\"viewport.calling\"> </div> <p class=\"text-center\"> <button type=\"button\" class=\"btn btn-link\" ng-click=\"state.goToExternalPage(viewport.platform + '/admin/account/password/reset')\">Reset password</button> <button type=\"submit\" class=\"btn btn-primary\" ng-disabled=\"viewport.calling\">Log me in</button> </p> </form> </div> <hr> <p class=\"text-center\">Don't have an account yet? <button type=\"button\" class=\"btn btn-sm btn-link\" ng-click=\"state.redirect('register')\" ng-disabled=\"viewport.calling\">Register!</button></p> </div>");
}]);

angular.module("partials/register.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("partials/register.html",
    "<div ng-show=\"viewport.online\"> <p class=\"lead text-center\">Register to start your measurements.</p> <div class=\"row\"> <form role=\"form\" id=\"form-registration\" class=\"col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2\" ng-submit=\"register()\" novalidate=\"novalidate\"> <div class=\"form-group\" ng-class=\"{'has-error': registration.error.api || registration.error.email}\"> <label for=\"form-registration-email\">Email address</label> <span class=\"help-block text-center\" ng-if=\"registration.error.email\">Please enter a valid email address in the field below</span> <input type=\"email\" id=\"form-registration-email\" class=\"form-control\" ng-model=\"registration.email\" ng-disabled=\"viewport.calling\"> </div> <div class=\"form-group\" ng-class=\"{'has-error': registration.error.displayName}\"> <label for=\"form-registration-displayname\">Display name</label> <span class=\"help-block text-center\" ng-if=\"registration.error.displayName\">Please enter a chosen display name in the field below</span> <input type=\"text\" id=\"form-registration-displayname\" class=\"form-control\" ng-model=\"registration.displayName\" ng-disabled=\"viewport.calling\"> </div> <div class=\"form-group\" ng-class=\"{'has-error': registration.error.password1 || registration.error.passwordTooShort || registration.error.passwordsDoNotMatch}\"> <label for=\"form-registration-password1\">Password</label> <span class=\"help-block text-center\" ng-if=\"registration.error.password1\">Please enter a chosen password in the field below</span> <span class=\"help-block text-center\" ng-if=\"registration.error.passwordTooShort\">Password is too short, please enter minimum 6 characters</span> <span class=\"help-block text-center\" ng-if=\"registration.error.passwordsDoNotMatch\">Passwords do not match</span> <input type=\"password\" id=\"form-registration-password1\" class=\"form-control\" ng-model=\"registration.password1\" ng-disabled=\"viewport.calling\"> </div> <div class=\"form-group\" ng-class=\"{'has-error': registration.error.password2 || registration.error.passwordTooShort || registration.error.passwordsDoNotMatch}\"> <label for=\"form-registration-password2\">Repeat password</label> <span class=\"help-block text-center\" ng-if=\"registration.error.password2\">Please repeat a chosen password in the field below</span> <input type=\"password\" id=\"form-registration-password2\" class=\"form-control\" ng-model=\"registration.password2\" ng-disabled=\"viewport.calling\"> </div> <p class=\"text-center\"> <button type=\"submit\" class=\"btn btn-primary\" ng-disabled=\"viewport.calling\">Register</button> </p> </form> </div> <hr> <p class=\"text-center\">Already registered? <button type=\"button\" class=\"btn btn-sm btn-link\" ng-click=\"state.redirect('login')\" ng-disabled=\"viewport.calling\">Log in!</button></p> </div>");
}]);
